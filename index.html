<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="img/mapa.png" />
    <title>IDE DGEyC</title>
    <link rel="stylesheet" href="openLayers/ol.css" type="text/css">
    <!-- The line below is only needed for old environments like Internet Explorer and Android 4.x -->
    <script src="http://cdn.polyfill.io/v2/polyfill.min.js?features=requestAnimationFrame,Element.prototype.classList,URL"></script>
    <script src="openLayers/ol.js"></script>
    <script src="jquery/jquery-3.1.1.min.js"></script>
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
    <script src="bootstrap/js/bootstrap.min.js"></script>
    <style>
        .imprimir {
            top: 65px;
            left: .5em;
        }
        .ol-touch .imprimir {
            top: 80px;
        }
        #map:focus {
            outline: #4A74A8 solid 0.15em;
        }
        .tooltip-inner {
             white-space: nowrap;
        }
        #panel {
            display: none;
            border : 1px solid #000;
            width: 200px;
        }
    </style>
</head>
<body>
<div id="map" style="width: 100%; height: 780px" tabindex="0"></div>
<script>
    /**
     * Define a namespace for the application.
     */
    window.app = {};
    var app = window.app;


    //
    // Define imprimir control.
    //


    /**
     * @constructor
     * @extends {ol.control.Control}
     * @param {Object=} opt_options Control options.
     */
    app.ImprimirControl = function(opt_options) {

        var options = opt_options || {};

        var button = document.createElement('input');
        button.setAttribute('type', 'image');
        button.setAttribute('src', 'img/impresora.png');
        button.setAttribute('width', '25');
        button.setAttribute('height', '25');

        var this_ = this;
        var handleImprimir = function() {
            $('#panel').toggle('slide', {
                direction: 'left'
            }, 1000);
        };

        button.addEventListener('click', handleImprimir, false);
        button.addEventListener('touchstart', handleImprimir, false);

        var element = document.createElement('div');
        element.className = 'imprimir ol-unselectable ol-control';
        element.appendChild(button);

        var panel = document.createElement('div');
        panel.setAttribute('id', 'panel')
        element.appendChild(panel);

        ol.control.Control.call(this, {
            element: element,
            target: options.target
        });

    };
    ol.inherits(app.ImprimirControl, ol.control.Control);

    //
    // Create map, giving it a rotate to north control.
    //

    var map = new ol.Map({
        layers: [
            new ol.layer.Tile({
                source: new ol.source.OSM()
            })
        ],
        target: 'map',
        controls: ol.control.defaults().extend([
            new app.ImprimirControl()
        ]),
        view: new ol.View({
            center: ol.proj.transform([-68, -43], 'EPSG:4326', 'EPSG:3857'),
            zoom: 6,
            maxZoom: 8,
            minZoom: 6
        }),
    });

    $('.ol-zoom-in, .ol-zoom-out').tooltip({
        placement: 'right'
    });
</script>
</body>
</html>